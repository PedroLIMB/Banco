<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
    <link rel="shortcut icon" type="image/png" href="../Logo DIP.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css" integrity="sha512-10/jx2EXwxxWqCLX/hHth/vu2KY3jCF70dCQB8TSgNjbCVAC/8vai53GfMDrO2Emgwccf2pJqxct9ehpzG+MTw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="cadastro.css">
    
</head>
<body>

  <header class="header">

    <div class="container">
      <div class="logo">
        <a href="/BANCO/index.html">
        <img src="../LOGO DIP.png" alt="Logo Banco DIP">
        Banco DIP
        </a>
      </div>
      
      <nav>
        <ul class="nav-links">
          <li><a href="#">Home</a></li>
          <li><a href="#">Sobre</a></li>
          <li><a href="#">Serviços</a></li>
          <li><a href="#">Contato</a></li>
        </ul>

        <div class="menu-br">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </div>

      </nav>
    </div>
  </header>

  <main class="main">
    <div class="login-container">
      <div class="login">
        <form action="" name="CadastroLogin" onsubmit="return validation()">
          <p id="resultado"></p>

          <h2>Registro</h2>
          <div class="entrada-login">
            <input type="text" name="Nome" placeholder="Usuário" id="usuario">
          </div>

          <div class="entrada-login">
            <input type="email" name="Email" placeholder="Email" id="email">
          </div>

          <div class="entrada-login">
            <input type="password" name="Senha" placeholder="Senha" id="senha">
          </div>

          <div class="entrada-login">
            <input type="password" name="cSenha" placeholder="Confirmar senha">
          </div>

          <div class="botao">
                <input type="submit" class="btn" onclick="validation()" value="Registro" id="registro">
            </a>
        </div>

          <div class="adicionais">
            <span><a href="../LOGIN/login.html">Login</a></span>
          </div>
        </form>
      </div>

      <div class="loginConfirmado" id="loginConfirmado">
        <ion-icon name="checkmark-circle-outline"></ion-icon>
        <h2>Obrigado!</h2>
        <p>Você foi registrado com sucesso!</p>
        <p>Digite o Valor do Depósito Inicial:</p>
        <input type="number" id="valorTransacao" placeholder="Digite o valor...">
        <button id="botaoDeposito">Depósito Inicial</button>
        <a id="linkOK" href="/BANCO/index.html"><button onclick="CloseSlide()" disabled>OK</button></a>
      </div>
    </div>
  </main>

  <script type="module">

        // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
      import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyBdSQiJDi-MqBjjoa40BU9gOukunecFV6A",
        authDomain: "dip-web-d50de.firebaseapp.com",
        projectId: "dip-web-d50de",
        storageBucket: "dip-web-d50de.appspot.com",
        messagingSenderId: "17106918179",
        appId: "1:17106918179:web:1c3a1a838f571735444a96"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);

      const db = getDatabase(app);

      document.getElementById("linkOK").addEventListener('click', function(e){
        e.preventDefault()

        set(ref(db, 'usuarios/' + document.getElementById("usuario").value),
        {

            usuario: document.getElementById("usuario").value,
            email: document.getElementById("email").value,
            senha: document.getElementById("senha").value,
            depositoInicial: document.getElementById("valorTransacao").value
            
        })

      })

  </script>

  <script src="cadastro.js"></script>
  <script src="../script-header.js"></script>

</body>
</html>